"use strict";(self["webpackChunkvue_ts_cms"]=self["webpackChunkvue_ts_cms"]||[]).push([[434],{1872:function(e,t,l){l.d(t,{Z:function(){return f}});var a=l(3396),o=l(7139);const n={class:"xx-form"},d={class:"header"},i={class:"foot"};function r(e,t,l,r,u,s){const p=(0,a.up)("el-input"),c=(0,a.up)("tempalte"),m=(0,a.up)("el-option"),f=(0,a.up)("el-select"),g=(0,a.up)("el-date-picker"),w=(0,a.up)("el-form-item"),h=(0,a.up)("el-col"),y=(0,a.up)("el-row"),k=(0,a.up)("el-form");return(0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("div",d,[(0,a.WI)(e.$slots,"header")]),(0,a.Wm)(k,{"label-width":e.labelWidth,style:(0,o.j5)(e.itemStyle),class:"xx-el-form"},{default:(0,a.w5)((()=>[(0,a.Wm)(y,null,{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.formItems,(t=>((0,a.wg)(),(0,a.j4)(h,(0,o.vs)((0,a.dG)({key:t.label},e.spanWidth)),{default:(0,a.w5)((()=>[t.isHidden?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(w,{key:0,label:t.label},{default:(0,a.w5)((()=>["id"===t.type?((0,a.wg)(),(0,a.j4)(c,{key:0},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{placeholder:t.id,modelValue:e.fromModule[`${t.field}`],"onUpdate:modelValue":l=>e.fromModule[`${t.field}`]=l},null,8,["placeholder","modelValue","onUpdate:modelValue"])])),_:2},1024)):(0,a.kq)("",!0),"input"===t.type||"password"===t.type?((0,a.wg)(),(0,a.j4)(c,{key:1},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{placeholder:t.placeholder,"show-password":"password"===t.type,modelValue:e.fromModule[`${t.field}`],"onUpdate:modelValue":l=>e.fromModule[`${t.field}`]=l},null,8,["placeholder","show-password","modelValue","onUpdate:modelValue"])])),_:2},1024)):"select"===t.type?((0,a.wg)(),(0,a.j4)(f,(0,a.dG)({key:2,placeholder:t.placeholder,modelValue:e.fromModule[`${t.field}`],"onUpdate:modelValue":l=>e.fromModule[`${t.field}`]=l,style:{width:"100%"}},t.otherOptions),{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.options,(e=>((0,a.wg)(),(0,a.j4)(m,{value:e.value,key:e.value},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.title),1)])),_:2},1032,["value"])))),128))])),_:2},1040,["placeholder","modelValue","onUpdate:modelValue"])):"datepicker"===t.type?((0,a.wg)(),(0,a.j4)(g,(0,a.dG)({key:3},t.otherOptions,{style:{width:"100%"},modelValue:e.fromModule[`${t.field}`],"onUpdate:modelValue":l=>e.fromModule[`${t.field}`]=l}),null,16,["modelValue","onUpdate:modelValue"])):(0,a.kq)("",!0)])),_:2},1032,["label"]))])),_:2},1040)))),128))])),_:1})])),_:1},8,["label-width","style"]),(0,a._)("div",i,[(0,a.WI)(e.$slots,"foot")])])}var u=l(4870),s=(0,a.aZ)({props:{modelValue:{type:Object,required:!0},formItems:{type:Array,default:()=>[]},labelWidth:{type:String,default:"100px"},itemStyle:{type:Object,default:()=>({padding:"10px 40px"})},spanWidth:{type:Object,default:()=>({xl:6,lg:8,md:12,sm:24,xs:24})}},emits:["update:modelValue"],setup(e,{emit:t}){const l=(0,u.iH)({...e.modelValue});return(0,a.YP)(l,(e=>{console.log(e),t("update:modelValue",e)}),{deep:!0}),{fromModule:l}}}),p=l(89);const c=(0,p.Z)(s,[["render",r]]);var m=c,f=m},2757:function(e,t,l){l.d(t,{Z:function(){return j}});var a=l(3396),o=l(7139);const n={class:"page-content"},d=(0,a.Uk)("新建用户"),i={class:"handle-btn"},r=(0,a.Uk)("编辑"),u=(0,a.Uk)("删除");function s(e,t,l,s,p,c){const m=(0,a.up)("el-button"),f=(0,a.up)("refresh"),g=(0,a.up)("el-icon"),w=(0,a.up)("edit"),h=(0,a.up)("folder-delete"),y=(0,a.up)("xx-table");return(0,a.wg)(),(0,a.iD)("div",n,[(0,a.Wm)(y,(0,a.dG)({listData:e.dataList},e.contentTableConfig,{listCount:e.dataCount,page:e.pageInfo,"onUpdate:page":t[0]||(t[0]=t=>e.pageInfo=t)}),(0,a.Nv)({headerhandle:(0,a.w5)((()=>[e.isCreate?((0,a.wg)(),(0,a.j4)(m,{key:0,type:"primary",onClick:e.handleNewClick},{default:(0,a.w5)((()=>[d])),_:1},8,["onClick"])):(0,a.kq)("",!0),(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a.Wm)(f)])),_:1})])),_:1})])),_:1})])),status:(0,a.w5)((e=>[(0,a.Wm)(m,{plain:"",size:"mini",type:e.row.enable?"success":"danger"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,o.zw)(e.row.enable?"启用":"禁用"),1)])),_:2},1032,["type"])])),createAt:(0,a.w5)((t=>[(0,a._)("strong",null,(0,o.zw)(e.$filters.formatTime(t.row.createAt)),1)])),updateAt:(0,a.w5)((t=>[(0,a._)("strong",null,(0,o.zw)(e.$filters.formatTime(t.row.updateAt)),1)])),handle:(0,a.w5)((t=>[(0,a._)("div",i,[e.isUpdate?((0,a.wg)(),(0,a.j4)(m,{key:0,type:"text",size:"mini",onClick:l=>e.handleEidtClick(t.row)},{default:(0,a.w5)((()=>[(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a.Wm)(w)])),_:1}),r])),_:2},1032,["onClick"])):(0,a.kq)("",!0),e.isDelete?((0,a.wg)(),(0,a.j4)(m,{key:1,type:"text",size:"mini",onClick:l=>e.handleDelectClick(t.row)},{default:(0,a.w5)((()=>[(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a.Wm)(h)])),_:1}),u])),_:2},1032,["onClick"])):(0,a.kq)("",!0)])])),_:2},[(0,a.Ko)(e.otherPropSlots,(t=>({name:t.slotName,fn:(0,a.w5)((l=>[(0,a.WI)(e.$slots,t.slotName,{row:l.row})]))})))]),1040,["listData","listCount","page"])])}var p=l(4870);const c={class:"table"},m={class:"header1"},f={class:"title"},g={class:"header"},w={key:0,class:"footer"};function h(e,t,l,n,d,i){const r=(0,a.up)("el-table-column"),u=(0,a.up)("el-table"),s=(0,a.up)("el-pagination");return(0,a.wg)(),(0,a.iD)("div",c,[(0,a._)("div",m,[(0,a.WI)(e.$slots,"header",{},(()=>[(0,a._)("div",f,(0,o.zw)(e.title),1),(0,a._)("div",g,[(0,a.WI)(e.$slots,"headerhandle")])]))]),(0,a.Wm)(u,(0,a.dG)({data:e.listData,border:"",style:{width:"100%"}},e.childrenProps),{default:(0,a.w5)((()=>[e.showSelectColumn?((0,a.wg)(),(0,a.j4)(r,{key:0,type:"selection"})):(0,a.kq)("",!0),e.shouIndexColumn?((0,a.wg)(),(0,a.j4)(r,{key:1,type:"index",label:"序号",align:"center",width:"70"})):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.propsList,(t=>((0,a.wg)(),(0,a.j4)(r,(0,a.dG)({key:t.name},t,{align:"center","show-overflow-tooltip":""}),{default:(0,a.w5)((l=>[(0,a.WI)(e.$slots,t.slotName,{row:l.row},(()=>[(0,a.Uk)((0,o.zw)(l.row[t.prop]),1)]))])),_:2},1040)))),128))])),_:3},16,["data"]),e.showFooter?((0,a.wg)(),(0,a.iD)("div",w,[(0,a.WI)(e.$slots,"footer"),(0,a.Wm)(s,{currentPage:e.page.currentPage,"page-size":e.page.pageSize,"page-sizes":[10,20,30,40],small:e.small,disabled:e.disabled,background:e.background,layout:"total, sizes, prev, pager, next, jumper",total:e.listCount,onSizeChange:e.handleSizeChange,onCurrentChange:e.handleCurrentChange},null,8,["currentPage","page-size","small","disabled","background","total","onSizeChange","onCurrentChange"])])):(0,a.kq)("",!0)])}var y=(0,a.aZ)({name:"table",props:{listData:{type:Array,required:!0},listCount:{type:Number,default:0},propsList:{type:Array,required:!0},shouIndexColumn:{type:Boolean,default:!1},showSelectColumn:{type:Boolean,default:!1},title:{type:String,default:"默认列表"},page:{type:Object,default:()=>({currentPage:0,pageSize:10})},childrenProps:{type:Object,default:()=>({})},showFooter:{type:Boolean,default:!0}},components:{},emits:["update:page"],setup(e,{emit:t}){const l=l=>{t("update:page",{...e.page,pageSize:l})},a=l=>{t("update:page",{...e.page,currentPage:l})};return{handleSizeChange:l,handleCurrentChange:a}}}),k=l(89);const C=(0,k.Z)(y,[["render",h]]);var v=C,b=v,_=l(2767);function V(e,t){const l=(0,_.oR)(),a=l.state.LoginModule.permission,o=`system:${e}:${t}`;return!!a.find((e=>e===o))}var W=(0,a.aZ)({name:"page-content",props:{contentTableConfig:{type:Object,required:!0},pagename:{type:String,required:!0}},components:{xxTable:b},emits:["NewClick","EditClick"],setup(e,{emit:t}){const l=(0,_.oR)(),o=(0,p.iH)({currentPage:1,pageSize:10}),n=V(e.pagename,"create"),d=V(e.pagename,"update"),i=V(e.pagename,"delete"),r=V(e.pagename,"query"),u=(t={})=>{r&&l.dispatch("SystemModule/getpageDatalistAction",{pageUrl:e.pagename,queryInfo:{offset:(o.value.currentPage-1)*o.value.pageSize,size:o.value.pageSize,...t}})};(0,a.YP)(o,(()=>{u()})),u();const s=(0,a.Fl)((()=>l.getters["SystemModule/pageListData"](e.pagename))),c=(0,a.Fl)((()=>l.getters["SystemModule/pageCountData"](e.pagename))),m=e.contentTableConfig.propsList.filter((e=>"status"!==e.slotName&&("createAt"!==e.slotName&&("updateAt"!==e.slotName&&"handle"!==e.slotName)))),f=t=>{l.dispatch("SystemModule/deletePageDataAction",{pageName:e.pagename,id:t.id})},g=()=>{t("NewClick")},w=e=>{t("EditClick",e)};return{dataList:s,dataCount:c,getpageData:u,pageInfo:o,otherPropSlots:m,isCreate:n,isUpdate:d,isDelete:i,handleDelectClick:f,handleNewClick:g,handleEidtClick:w}}});const D=(0,k.Z)(W,[["render",s]]);var x=D,j=x},3350:function(e,t,l){l.d(t,{Z:function(){return w}});var a=l(3396);const o={class:"page-modal"},n={class:"dialog-footer"},d=(0,a.Uk)("取消"),i=(0,a.Uk)("确定");function r(e,t,l,r,u,s){const p=(0,a.up)("xx-form"),c=(0,a.up)("el-button"),m=(0,a.up)("el-dialog");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(m,{modelValue:e.dialogVisible,"onUpdate:modelValue":t[2]||(t[2]=t=>e.dialogVisible=t),title:"新增用户",width:"30%",center:"","destroy-on-close":""},{footer:(0,a.w5)((()=>[(0,a._)("span",n,[(0,a.Wm)(c,{onClick:t[1]||(t[1]=t=>e.dialogVisible=!1)},{default:(0,a.w5)((()=>[d])),_:1}),(0,a.Wm)(c,{type:"primary",onClick:e.handleConfigClick},{default:(0,a.w5)((()=>[i])),_:1},8,["onClick"])])])),default:(0,a.w5)((()=>[(0,a.Wm)(p,(0,a.dG)(e.modalConfig,{modelValue:e.formData,"onUpdate:modelValue":t[0]||(t[0]=t=>e.formData=t)}),null,16,["modelValue"]),(0,a.WI)(e.$slots,"default")])),_:3},8,["modelValue"])])}var u=l(4870),s=l(1872),p=l(2767),c=(0,a.aZ)({name:"page-modal",props:{modalConfig:{type:Object,required:!0},defaultInfo:{type:Object,default:()=>({})},pagename:{type:String,required:!0},otherInfo:{type:Object,default:()=>({})}},components:{xxForm:s.Z},setup(e){console.log({...e.otherInfo});const t=(0,u.iH)(!1),l=(0,u.iH)({});console.log("xinjian"),(0,a.YP)((()=>e.defaultInfo),(t=>{for(const a of e.modalConfig?.formItems)l.value[`${a.field}`]=t[`${a.field}`]}));const o=(0,p.oR)(),n=()=>{t.value=!1,Object.keys(e.defaultInfo).length?o.dispatch("SystemModule/editPageDataAction",{PageName:e.pagename,editData:{...l.value,...e.otherInfo},id:e.defaultInfo.id}):(console.log(e.pagename),o.dispatch("SystemModule/createPageDataAction",{PageName:e.pagename,newData:{...l.value,...e.otherInfo}}))};return{dialogVisible:t,formData:l,handleConfigClick:n}}}),m=l(89);const f=(0,m.Z)(c,[["render",r]]);var g=f,w=g},3228:function(e,t,l){l.d(t,{Z:function(){return w}});var a=l(3396);const o={class:"page-search"},n=(0,a._)("h2",null,"高级检索",-1),d={class:"btn"},i=(0,a.Uk)("重置"),r=(0,a.Uk)("检查");function u(e,t,l,u,s,p){const c=(0,a.up)("el-button"),m=(0,a.up)("xx-form");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a.Wm)(m,(0,a.dG)(e.searchformConfig,{modelValue:e.fromModule,"onUpdate:modelValue":t[0]||(t[0]=t=>e.fromModule=t)}),{header:(0,a.w5)((()=>[n])),foot:(0,a.w5)((()=>[(0,a._)("div",d,[(0,a.Wm)(c,{type:"primary",onClick:e.handleResetClick},{default:(0,a.w5)((()=>[i])),_:1},8,["onClick"]),(0,a.Wm)(c,{onClick:e.handlequeryClick},{default:(0,a.w5)((()=>[r])),_:1},8,["onClick"])])])),_:1},16,["modelValue"])])}var s=l(4870),p=l(1872),c=(0,a.aZ)({name:"page-search",props:{searchformConfig:{type:Object,requried:!0}},components:{xxForm:p.Z},emits:["resetBtnClick","queryBtnClick"],setup(e,{emit:t}){const l=e.searchformConfig?.formItems,a={};for(const i of l)a[i.field]=void 0;const o=(0,s.iH)(a),n=()=>{for(const e in a)o.value[`${e}`]=a[e];t("resetBtnClick")},d=()=>{t("queryBtnClick",o.value)};return{fromModule:o,handleResetClick:n,handlequeryClick:d}}}),m=l(89);const f=(0,m.Z)(c,[["render",u]]);var g=f,w=g},8256:function(e,t,l){l.d(t,{w:function(){return o}});var a=l(4870);function o(e,t){const l=(0,a.iH)(),o=(0,a.iH)({}),n=()=>{o.value={},l.value&&(l.value.dialogVisible=!0),e&&e()},d=e=>{o.value={...e},l.value&&(l.value.dialogVisible=!0),t&&t(e)};return[l,o,n,d]}}}]);
//# sourceMappingURL=434.a4a96079.js.map